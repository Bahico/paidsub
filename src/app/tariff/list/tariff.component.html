<div class="main {{mode === 'edit' ? 'm-7' : ''}}">
    <div class="title">
        <img src="assets/images/ordak.png" alt="">
        <h1>{{titles[mode]}}</h1>
        <p>{{paragraph[mode]}}</p>
    </div>
    
    <div class="tariffs">
        <div>
            <button class="create" routerLink="create/">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <circle cx="10" cy="10" r="10" fill="white"/>
                    <rect x="9" y="5" width="2" height="10" rx="1" fill="#007AFF"/>
                    <rect x="15" y="9" width="2" height="10" rx="1" transform="rotate(90 15 9)" fill="#007AFF"/>
                </svg>
                Добавить тариф
            </button>
            @for (tariff of tariffs; track $index) {
                <div class="tariff" routerLink="view/{{tariff.id}}/" [draggable]="mode === 'edit' ?? true" (dragover)="allowDrop($event)" (drop)="drop($event)" [id]="$index" (dragstart)="drag($event)">
                    <span [id]="$index">{{tariff.name}}</span>
                    <p [id]="$index">Для определенных</p>
    
                    <span class="right" [id]="$index">
                        @if (mode !== 'edit') {
                            <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/>
                            </svg>
                        }
                        @if (mode === 'edit') {
                            <svg [id]="$index" width="20" height="12" viewBox="0 0 20 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect [id]="$index" width="20" height="1.3" fill="#3C3C43" fill-opacity="0.3"/>
                                <rect [id]="$index" y="5.29999" width="20" height="1.3" fill="#3C3C43" fill-opacity="0.3"/>
                                <rect [id]="$index" y="10.6" width="20" height="1.3" fill="#3C3C43" fill-opacity="0.3"/>
                            </svg>
                        }                            
                    </span>
                </div>
            }
            @if (tariffs.length > 1 && mode !== 'edit') {
                <div class="edit-position" (click)="edit()">
                    <p>Изменить порядок</p>
                    <span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <g clip-path="url(#clip0_22_2173)">
                            <path d="M6 6C6 6 8.25 3.75 12 3.75C17.25 3.75 20.25 9 20.25 9" stroke="#007AFF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M18 18C18 18 15.75 20.25 12 20.25C6.75 20.25 3.75 15 3.75 15" stroke="#007AFF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15.75 9H20.25V4.5" stroke="#007AFF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M8.25 15H3.75V19.5" stroke="#007AFF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_22_2173">
                            <path d="M0 10C0 4.47715 4.47715 0 10 0H14C19.5228 0 24 4.47715 24 10V24H0V10Z" fill="white"/>
                            </clipPath>
                            </defs>
                        </svg>
                    </span>
                </div>
            }
        </div>
    </div>
</div>

@if (mode === 'edit') {
    <div class="down-button">
        <button (click)="savePosition()">
            Сохранить
        </button>
    </div>
}